--- a/MarketScanner.UI.Wpf/ViewModels/MainViewModel.cs
+++ b/MarketScanner.UI.Wpf/ViewModels/MainViewModel.cs
@@ -75,13 +75,28 @@
     public MainViewModel()
     {
         AllocConsole();
         Log("=== Market Scanner Console Initialized ===");

         string apiKey = "YOUR_API_KEY_HERE";

-        _provider = new PolygonMarketDataProvider(apiKey);
-        _engine = new MarketDataEngine(_provider);
-
-        Chart = new ChartViewModel();
-        Scanner = new ScannerViewModel(new EquityScannerService(_provider));
+        // ✅ Initialize Polygon provider and chart manager properly
+        _provider = new PolygonMarketDataProvider(apiKey);
+        _engine = new MarketDataEngine(_provider);
+
+        // create one shared ChartManager instance for the entire UI
+        var chartManager = new ChartManager();
+
+        // ✅ pass both dependencies to ChartViewModel
+        Chart = new ChartViewModel(_provider, chartManager);
+
+        // ✅ also pass chartManager to the scanner for later updates if needed
+        var scannerService = new EquityScannerService(_provider);
+        Scanner = new ScannerViewModel(scannerService, chartManager);
+
+        // wire up commands
+        StartScanCommand = new RelayCommand(async _ => await StartScanAsync(), _ => true);
+        StopScanCommand = new RelayCommand(_ => Scanner.Stop(), _ => true);
+
+        // link engine updates to chart refresh
+        _engine.OnEquityScanned += result =>
+        {
+            if (result.Symbol == SelectedSymbol)
+                Chart.Update(result);
+        };
