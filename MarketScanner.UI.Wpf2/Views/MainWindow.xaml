<Window x:Class="MarketScanner.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.org/wpf"
        Title="Market Scanner" Height="900" Width="1600" Background="#1E1E1E">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <!-- Sidebar -->
            <ColumnDefinition Width="*"/>
            <!-- Charts -->
            <ColumnDefinition Width="350"/>
            <!-- Controls -->
        </Grid.ColumnDefinitions>

        <!-- 🔹 Sidebar: List of scanned symbols -->
        <!--
        <Border Grid.Column="0" Background="#252526" Padding="8" CornerRadius="6">
            <DockPanel>
                <TextBlock Text="Scanned Symbols" 
                           Foreground="White" FontWeight="Bold" Margin="0,0,0,8"/>
                <TextBlock Text="{Binding ProgressValue, StringFormat='Progress: {0}%'}"
           Foreground="White" Margin="0,5,0,0"/>

                <ListBox ItemsSource="{Binding OverboughtSymbols}" 
                         SelectedItem="{Binding SelectedSymbol}" 
                         Background="#2D2D30" Foreground="White" 
                         BorderThickness="0"
                         ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="2">
                                <TextBlock Text="{Binding Symbol}" Width="60"/>
                                <TextBlock Text="{Binding Price, StringFormat=C}" Width="80"/>
                                <TextBlock Text="{Binding RSI, StringFormat=F2}" Width="50"/>
                                <TextBlock Text="{Binding SMA, StringFormat=F2}" Width="50"/>
                                <TextBlock Text="{Binding Volume, StringFormat=N0}" Width="80"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </DockPanel>
        </Border>
        -->

        <!-- 🔸 Main Chart Area -->
        <StackPanel Grid.Column="1" Orientation="Vertical" Background="#1E1E1E" Margin="10,0">
            <!-- Price -->
            <oxy:PlotView Model="{Binding PriceView}" Height="300" Margin="0,0,0,10"/>
            <!-- RSI -->
            <oxy:PlotView Model="{Binding RsiView}" Height="200" Margin="0,0,0,10"/>
            <!-- Volume -->
            <oxy:PlotView Model="{Binding VolumeView}" Height="200"/>
            <!-- Stats -->
            <StackPanel Orientation="Horizontal" Margin="10,10,0,0">
                <TextBlock Text="{Binding PriceText}" FontWeight="Bold" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding VolumeText}" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding RsiText}" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding SmaText}" Margin="5,0" Foreground="White"/>
            </StackPanel>
        </StackPanel>

        <!-- 🔸 Right Panel: Controls -->
        <Border Grid.Column="2" Background="#252526" Padding="12" CornerRadius="6">
            <StackPanel>
                <TextBlock Text="Controls" Foreground="White" FontWeight="Bold" Margin="0,0,0,8"/>

                <Button Content="Start Scan" Command="{Binding StartScanCommand}" Margin="0,4,0,0" Width="120"/>
                <Button Content="Cancel Scan" Command="{Binding CancelScanCommand}" Margin="0,4,0,0" Width="120"/>

                <ProgressBar Minimum="0" Maximum="100" 
                     Value="{Binding ProgressValue}" 
                     Height="20" Margin="0,10,0,0"/>
                <TextBlock Text="{Binding ProgressValue, StringFormat='Progress: {0}%'}"
                   Foreground="White" Margin="0,4,0,10"/>

                <Separator Margin="0,12,0,12"/>

                <TextBlock Text="Overbought" Foreground="White" FontWeight="Bold" Margin="0,4,0,4"/>
                <ListBox ItemsSource="{Binding OverboughtSymbols}"
                         SelectedItem="{Binding SelectedSymbolName, Mode=TwoWay}"
                         Background="#2D2D30" Foreground="White" Height="150" BorderThickness="0">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Foreground" Value="White"/>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#3A3A3A"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>

                <TextBlock Text="Oversold" Foreground="White" FontWeight="Bold" Margin="0,10,0,4"/>
                <ListBox ItemsSource="{Binding OversoldSymbols}"
         SelectedItem="{Binding SelectedSymbolName, Mode=TwoWay}"
         Background="#2D2D30" Foreground="White" Height="150" BorderThickness="0">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Foreground" Value="White"/>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#3A3A3A"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
                <Ellipse Width="12" Height="12"
             Fill="{Binding LiveStatusColor}"
             Stroke="White" StrokeThickness="1"
             Margin="0,0,6,0"/>
                <TextBlock Text="{Binding LiveStatusText}"
               Foreground="White"
               VerticalAlignment="Center"
               FontWeight="Bold"/>
            </StackPanel>
        </Border>

    </Grid>
</Window>
