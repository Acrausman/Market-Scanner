<Window x:Class="MarketScanner.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.org/wpf"
        Title="Market Scanner" Height="900" Width="1600" Background="#1E1E1E">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <!-- Sidebar -->
            <ColumnDefinition Width="*"/>
            <!-- Charts -->
            <ColumnDefinition Width="350"/>
            <!-- Controls -->
        </Grid.ColumnDefinitions>

        <!-- 🔹 Sidebar: List of scanned symbols -->
        <Border Grid.Column="0" Background="#252526" Padding="8" CornerRadius="6">
            <DockPanel>
                <TextBlock Text="Scanned Symbols" 
                           Foreground="White" FontWeight="Bold" Margin="0,0,0,8"/>
                <ListBox ItemsSource="{Binding Symbols}" 
                         SelectedItem="{Binding SelectedSymbol}" 
                         Background="#2D2D30" Foreground="White" 
                         BorderThickness="0"
                         ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="2">
                                <TextBlock Text="{Binding Symbol}" Width="60"/>
                                <TextBlock Text="{Binding Price, StringFormat=C}" Width="80"/>
                                <TextBlock Text="{Binding RSI, StringFormat=F2}" Width="50"/>
                                <TextBlock Text="{Binding SMA, StringFormat=F2}" Width="50"/>
                                <TextBlock Text="{Binding Volume, StringFormat=N0}" Width="80"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </DockPanel>
        </Border>

        <!-- 🔸 Main Chart Area -->
        <StackPanel Grid.Column="1" Orientation="Vertical" Background="#1E1E1E" Margin="10,0">
            <!-- Price -->
            <oxy:PlotView Model="{Binding PriceView}" Height="300" Margin="0,0,0,10"/>
            <!-- RSI -->
            <oxy:PlotView Model="{Binding RsiView}" Height="200" Margin="0,0,0,10"/>
            <!-- Volume -->
            <oxy:PlotView Model="{Binding VolumeView}" Height="200"/>
            <!-- Stats -->
            <StackPanel Orientation="Horizontal" Margin="10,10,0,0">
                <TextBlock Text="{Binding PriceText}" FontWeight="Bold" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding VolumeText}" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding RsiText}" Margin="5,0" Foreground="White"/>
                <TextBlock Text="{Binding SmaText}" Margin="5,0" Foreground="White"/>
            </StackPanel>
        </StackPanel>

        <!-- 🔸 Right Panel: Controls -->
        <Border Grid.Column="2" Background="#252526" Padding="12" CornerRadius="6">
            <StackPanel>
                <TextBlock Text="Controls" Foreground="White" FontWeight="Bold" Margin="0,0,0,8"/>
                <Button Content="Start Scan" Command="{Binding StartScanCommand}" Margin="0,4,0,0"/>
                <Button Content="Stop Scan" Command="{Binding StopScanCommand}" Margin="0,4,0,0"/>
                <Separator Margin="0,12,0,12"/>
                <TextBlock Text="Active Alerts" Foreground="White" FontWeight="Bold"/>
                <ListBox ItemsSource="{Binding ActiveAlerts}" DisplayMemberPath="Message"
                         Background="#2D2D30" Foreground="White" BorderThickness="0"
                         Height="200" Margin="0,4,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
